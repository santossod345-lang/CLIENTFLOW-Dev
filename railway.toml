[build]
builder = "dockerfile"
dockerfilePath = "Dockerfile"

[deploy]
# Procfile controls startup - no override needed
restartPolicyMaxRetries = 5
restartPolicyWindowSeconds = 600

[env]
PYTHONUNBUFFERED = "1"
PYTHONDONTWRITEBYTECODE = "1"
ENVIRONMENT = "production"
LOG_LEVEL = "info"

[[services]]
name = "ClientFlow-Backend"
runtime = "dockerfile"
processType = "web"
cpuLimit = "500m"
memoryLimit = "512Mi"

[[databases]]
name = "PostgreSQL"
image = "postgres:15"
version = "15"
port = 5432
